package util;

import java.util.ArrayList;
import java.util.Scanner;

import view.Emprestimo;
import view.Livro;

public class ISBN {
	
	static ArrayList<Livro> livros = new ArrayList<>();
	static ArrayList<Emprestimo> emprestimos = new ArrayList<>();

	public static boolean Verif_ISBN(String codigo) {
		try {
			if (codigo.length() == 10 || codigo.length() == 13) {
				return true;
			} else {
				System.out.println("Codigo inserido não é do padrao ISBN-10 e ISBN-13");
				return false;
			}
		} catch (Exception e) {
			System.out.println("Erro em passar String em int");
			return false;
		}
	}
	
	public static void listarEmprestimos() {
		System.out.println("Empréstimos realizados:");
		for (Emprestimo e : emprestimos) {
			System.out.println("Aluno: " + e.aluno + " | Livro: " + livros.get(e.indiceLivro).titulo);
		}
	}
	
	public static void emprestarLivro(int indiceLivro, String aluno) {
		emprestimos.add(new Emprestimo(indiceLivro, aluno));
		System.out.println("Livro \"" + livros.get(indiceLivro).titulo + "\" emprestado para " + aluno);
	}
	
	public static void listarLivros() {
		System.out.println("Lista de livros disponíveis:");
		for (int i = 0; i < livros.size(); i++) {
			System.out.println(i + " - " + livros.get(i).titulo + " | Autor: " + livros.get(i).autor + " | ISBN: "
					+ livros.get(i).isbn + livros.get(i).edicao);
		}
	}
	
	public static void cadastrarLivro(String titulo, String autor, String isbn, String edicao) {
		Scanner sc = new Scanner(System.in);
		boolean verif = true;
		while (verif) {
			if (ISBN.Verif_ISBN(isbn)) {
				verif = false;
			} else {
				System.out.println("Digite o codigo mais uma vez: ");
				sc.next();
				sc.nextLine();
				continue;
			}
		}
		livros.add(new Livro(titulo, autor, isbn, edicao));
		System.out.println("Livro cadastrado com sucesso!");
	}
}
